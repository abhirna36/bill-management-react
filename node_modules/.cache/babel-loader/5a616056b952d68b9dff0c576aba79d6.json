{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Desktop/Personal/bill-management-react/src/Views/dashboard/Dashboard.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./Dashboard.scss\";\nimport Text from \"../common/Text\";\nimport Filter from \"../common/Filter\";\nimport { connect } from \"react-redux\";\nimport { fetchBills, deleteBill, addBill } from \"../../actions/index\";\nimport { Button } from \"@material-ui/core\";\nimport List from \"../common/List\";\nimport BottomComponent from \"../bottomComponent/BottomComponent\";\nimport { Link } from \"react-router-dom\";\nimport { MONTHLY_BUDGET } from \"../../constants/Constant\";\n\nfunction Dashboard(props) {\n  const [state, setBills] = useState({\n    filteredBills: [],\n    payableBills: []\n  });\n\n  function FilterBillHandler(value) {\n    console.log(\"Value of filter\", value);\n\n    if (value) {\n      setBills({ ...state.filteredBills,\n        filteredBills: props.billList.filter(element => element.category === value)\n      });\n    }\n  }\n\n  useEffect(() => {\n    props.fetchBills();\n  }, []);\n\n  const deleteBillclick = (event, bill) => {\n    console.log(\"Value of item for delete\", JSON.stringify(bill));\n    props.deleteBill(bill.id);\n  };\n\n  const renderBills = list => {\n    // console.log(\"List in render bills\", JSON.stringify(list));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(List, {\n      list: list,\n      deleteClick: deleteBillclick,\n      payableBills: state.payableBills,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  const resetClick = () => {\n    setBills({ ...state.filteredBills,\n      filteredBills: []\n    });\n    props.fetchBills();\n  };\n\n  const addBill = () => {\n    props.addBill();\n  };\n\n  const minimumBillPay = () => {\n    setBills({ ...state.filteredBills,\n      filteredBills: props.billList.sort((a, b) => parseInt(b.amount) - parseInt(a.amount))\n    });\n    let totalSum = 0;\n    let ids = [];\n    console.log(\"Monthly budget\", MONTHLY_BUDGET);\n    state.filteredBills.forEach(element => {\n      console.log(\"before if\");\n\n      if (totalSum + parseInt(element.amount) <= MONTHLY_BUDGET) {\n        console.log(\"Inside if\", element);\n        totalSum += parseInt(element.amount);\n        ids.push(element.id);\n      }\n    });\n    console.log(\"Ids list\", JSON.stringify(ids));\n    setBills({ ...state.payableBills,\n      payableBills: ids\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    textStyle: \"dashboard-header\",\n    text: \"Bill DashBoard\",\n    textContainerStyle: \"dashboard-header-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"list-action-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => resetClick(),\n    variant: \"outlined\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, \"Reset\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => addBill(),\n    variant: \"outlined\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, \"Add Bill\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => minimumBillPay(),\n    variant: \"outlined\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, \"Minimum Bill\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"graph-name-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/chart\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, \"Graph Analysis\")), /*#__PURE__*/React.createElement(Filter, {\n    FilterBillHandler: FilterBillHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }), props.billList.length > 0 && renderBills(state.filteredBills && state.filteredBills.length > 0 ? state.filteredBills : props.billList), /*#__PURE__*/React.createElement(BottomComponent, {\n    list: state.filteredBills && state.filteredBills.length > 0 ? state.filteredBills : props.billList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }));\n}\n\nconst mapStateToProps = ({\n  dashboardReducer\n}) => {\n  const {\n    billFetchError,\n    billList\n  } = dashboardReducer;\n  return {\n    billFetchError,\n    billList\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchBills,\n  deleteBill,\n  addBill\n})(Dashboard);","map":{"version":3,"sources":["/Users/apple/Desktop/Personal/bill-management-react/src/Views/dashboard/Dashboard.js"],"names":["React","useState","useEffect","Text","Filter","connect","fetchBills","deleteBill","addBill","Button","List","BottomComponent","Link","MONTHLY_BUDGET","Dashboard","props","state","setBills","filteredBills","payableBills","FilterBillHandler","value","console","log","billList","filter","element","category","deleteBillclick","event","bill","JSON","stringify","id","renderBills","list","resetClick","minimumBillPay","sort","a","b","parseInt","amount","totalSum","ids","forEach","push","length","mapStateToProps","dashboardReducer","billFetchError"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./Dashboard.scss\";\nimport Text from \"../common/Text\";\nimport Filter from \"../common/Filter\";\nimport { connect } from \"react-redux\";\nimport { fetchBills, deleteBill, addBill } from \"../../actions/index\";\nimport { Button } from \"@material-ui/core\";\nimport List from \"../common/List\";\nimport BottomComponent from \"../bottomComponent/BottomComponent\";\nimport { Link } from \"react-router-dom\";\nimport { MONTHLY_BUDGET } from \"../../constants/Constant\";\n\nfunction Dashboard(props) {\n  const [state, setBills] = useState({\n    filteredBills: [],\n    payableBills: [],\n  });\n\n  function FilterBillHandler(value) {\n    console.log(\"Value of filter\", value);\n    if (value) {\n      setBills({\n        ...state.filteredBills,\n        filteredBills: props.billList.filter(\n          (element) => element.category === value\n        ),\n      });\n    }\n  }\n\n  useEffect(() => {\n    props.fetchBills();\n  }, []);\n\n  const deleteBillclick = (event, bill) => {\n    console.log(\"Value of item for delete\", JSON.stringify(bill));\n    props.deleteBill(bill.id);\n  };\n\n  const renderBills = (list) => {\n    // console.log(\"List in render bills\", JSON.stringify(list));\n    return (\n      <div>\n        <List list={list} deleteClick={deleteBillclick} payableBills={state.payableBills}/>\n      </div>\n    );\n  };\n\n  const resetClick = () => {\n    setBills({\n      ...state.filteredBills,\n      filteredBills: [],\n    });\n    props.fetchBills();\n  };\n\n  const addBill = () => {\n    props.addBill();\n  };\n\n  const minimumBillPay = () => {\n    setBills({\n      ...state.filteredBills,\n      filteredBills: props.billList.sort(\n        (a, b) => parseInt(b.amount) - parseInt(a.amount)\n      ),\n    });\n\n    let totalSum = 0;\n    let ids = [];\n    console.log(\"Monthly budget\",MONTHLY_BUDGET);\n    state.filteredBills.forEach((element) => {\n      console.log(\"before if\");\n      if (totalSum + parseInt(element.amount) <= MONTHLY_BUDGET) {\n        console.log(\"Inside if\",element);\n        totalSum += parseInt(element.amount);\n        ids.push(element.id);\n      }\n    });\n    console.log(\"Ids list\",JSON.stringify(ids));\n    setBills({\n      ...state.payableBills,\n      payableBills: ids\n    });\n  };\n\n  return (\n    <div>\n      <Text\n        textStyle={\"dashboard-header\"}\n        text={\"Bill DashBoard\"}\n        textContainerStyle={\"dashboard-header-container\"}\n      />\n\n      <div className=\"list-action-container\">\n        <Button onClick={() => resetClick()} variant=\"outlined\" color=\"primary\">\n          {\"Reset\"}\n        </Button>\n\n        <Button onClick={() => addBill()} variant=\"outlined\" color=\"primary\">\n          {\"Add Bill\"}\n        </Button>\n\n        <Button\n          onClick={() => minimumBillPay()}\n          variant=\"outlined\"\n          color=\"primary\"\n        >\n          {\"Minimum Bill\"}\n        </Button>\n      </div>\n      <div className={\"graph-name-container\"}>\n        <Link to=\"/chart\" className=\"btn btn-primary\">\n          Graph Analysis\n        </Link>\n      </div>\n\n      <Filter FilterBillHandler={FilterBillHandler}></Filter>\n\n      {props.billList.length > 0 &&\n        renderBills(\n          state.filteredBills && state.filteredBills.length > 0\n            ? state.filteredBills\n            : props.billList\n        )}\n\n      <BottomComponent\n        list={\n          state.filteredBills && state.filteredBills.length > 0\n            ? state.filteredBills\n            : props.billList\n        }\n      />\n    </div>\n  );\n}\n\nconst mapStateToProps = ({ dashboardReducer }) => {\n  const { billFetchError, billList } = dashboardReducer;\n  return { billFetchError, billList };\n};\n\nexport default connect(mapStateToProps, {\n  fetchBills,\n  deleteBill,\n  addBill,\n})(Dashboard);\n"]},"metadata":{},"sourceType":"module"}